# Урок 30 - Разграничение прав в Django

## 14. - Поисковые возможности:

### - Поиск объявления по вхождению текста в его название

### - Поиск объявления по индексу локации его автора

### - Поиск объявления по цене от/до

### - Поиск объявления по индексу его категории

## 15. Пользователи и роли:
- Перепишите модель пользователя так, чтобы она наследовалась от AbstraсtUser
- Добавьте в приложение авторизацию по JWT
Request
POST /user/token/
{
	"username": "user",
	"password": "password",
}

Response
200
{
    "refresh": "JWT_token",
    "access": "JWT_token"
}
------------------------------
Request
POST /user/token/
{
	"username": "user",
	"password": "password",
	"refresh":  "JWT_token"
}

Response
200
{
    "refresh": "JWT_token",
    "access": "JWT_token"
}
------------------------------
- Скройте возможность просмотра детальной информации объявлений для неавторизованных пользователей.
- Авторизованные пользователи способны создавать подборки объявлений: можно сделать название и накидать в подборку несколько разных объявлений. Просматривать эти подборки могут все, а вот создавать, редактировать и удалять — только авторизованные пользователи. Менять, естественно, можно только свою подборку.
Реализуйте эту функцию с помощью GenericAPIView.
Request
GET /selection/

Response
200
{
    "count": 4,
    "next": null,
    "previous": null,
    "results": [
        {
						"id": 1,
						"name": "Подборка Васи"
				},
				{
						"id": 2,
						"name": "Подборка Пети"
				},
    ]
}---------------------------------------------

Request
POST /selection/create/
{
	"name": "Подборка Васи",
	"owner": 19,
	"items": [18]
}

Response
200
{
  "id": 1,
	"name": "Подборка Васи",
	"owner": 19,
	"items": [18]
}
-----------------------------------------------
Request
POST /selection/create/
{
	"name": "Подборка Васи",
	"owner": 19,
	"items": [18]
}

Response
200
{
  "id": 1,
	"name": "Подборка Васи",
	"owner": 19,
	"items": [18]
}
-------------------------------------------------
Request
POST /selection/create/
{
	"name": "Подборка Васи",
	"owner": 19,
	"items": [18]
}

Response
200
{
  "id": 1,
	"name": "Подборка Васи",
	"owner": 19,
	"items": [18]
}
-----------------
Request
GET /selection/1/

Response
200
{
    "id": 1,
    "items": [
        {
            "id": 18,
            "name": "FSDFDS",
            "price": 123,
            "description": "SDFSAF",
            "is_published": false,
            "image": null,
            "author": 4,
            "category": 1
        },
        {
            "id": 19,
            "name": "dadsfa",
            "price": 18,
            "description": "sdfds",
            "is_published": true,
            "image": null,
            "author": 4,
            "category": null
        }
    ],
    "name": "Подборка Васи",
    "owner": 19
}
-----------------------------------------------


найдите ручки, которые отвечали за редактирование и удаление объявлений. Эти ручки нужно оставить доступными по следующим условиям:
- либо это объявление принадлежит текущему пользователю (он его создавал);
- либо пользователь, который пытается поменять или удалить объявление, является модератором или админом.


---------------------------------------------------
**Критерии выполнения:**
- [ ]  Пользователь наследуется от AbstractUser.
- [ ]  Ролевая модель определена через собственное поле role с параметром choices.
- [ ]  Доступы регулируются через Permissions.
- [ ]  permission_classes используются как на уровне класса (атрибутом класса), так и на уровне метода (декоратором).